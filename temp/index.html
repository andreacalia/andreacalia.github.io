<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Sensors UJI</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://js.arcgis.com/3.12/esri/css/esri.css">
    <link rel="stylesheet" type="text/css" href="http://esri.github.io/bootstrap-map-js/src/css/bootstrapmap.css">
    <link rel="stylesheet" href="css/esri-example.css">
    <link rel="stylesheet" href="css/style.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
  </head>
  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div id="navBar">
        <div class="container-fluid">
          <div class="navbar-header">
            <button id="sidebar-toggle" type="button" class="navbar-toggle navbar-toggle-left">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Sensors UJI</a>
            <!--
            <button data-dojo-attach-point="collapseMenuToggleButton" type="button" class="navbar-toggle navbar-toggle-icon" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
            </button>
            -->
          </div>
          <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid container-map">
      <div class="row row-map">
        <!-- the map -->
        <div class="col-xs-12 col-sm-9 col-sm-push-3 col-lg-10 col-lg-push-2 col-map">
          <div id="mapControls"></div>
        </div>
        <!-- responsive sidebar -->
        <div class="col-xs-12 col-sm-3 col-sm-pull-9 col-lg-2 col-lg-pull-10">
          <div id="sidebar">
            <h4>Sensor type</h4>
            <div class="radio">
              <label>
                <input type="radio" name="sensor-type" id="sensor-type-light" value="light" checked>
                Light
              </label>
            </div>
            <div class="radio">
              <label>
                <input type="radio" name="sensor-type" id="sensor-type-temperature" value="temperature">
                Temperature
              </label>
            </div>
            <div class="radio">
              <label>
                <input type="radio" name="sensor-type" id="sensor-type-humidity" value="humidity">
                Humidity
              </label>
            </div>

            <h4>Hopefully a date</h4>
            <p>...</p>

            <button type="button" class="btn btn-primary">Get the data</button>


          </div>
        </div>
      </div>
    </div>

    <script>
      window.dojoConfig = {
        async: true,
        
        packages: [
          {
            name: 'app',
            location: window.location.pathname.substring(0, window.location.pathname.lastIndexOf('/')) + '/js'
          },
          {
            name: 'dojo-bootstrap',
            location: '//rawgit.com/xsokev/Dojo-Bootstrap/master'
          },
          {
            name: 'bootstrap-map-js',
            location: '//esri.github.io/bootstrap-map-js/src/'
          },
          {
            name: 'tpl',
            location: 'tpl'
          }
        ]
      };
    </script>
    <script src="//js.arcgis.com/3.12"></script>
    <script>require([ 'app/main' ]);</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all  plugins or individual files as needed -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
  
<!--
    <script src="http://js.arcgis.com/3.12/"></script>
    <script>

      require.config({

        baseUrl: '',
        paths: {
          tpl: 'tpl',
          jquery: 'https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js',
        },
        shim: {
          'https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js': {
            deps: ['jquery']
          }
        }

      });

      require([
        'js/controller',
        'jquery',
      ], function(Controller, $){

        window.throwError = function(msg) {

          throw new Error(msg);
        };

        window.showMessage = function(msg) {

          console.log(msg);
        };

        // Init app
        Controller.init();

      });


/*








      require([
        "esri/map", "esri/tasks/locator", "esri/graphic",
        "esri/geometry/webMercatorUtils",
        "esri/symbols/SimpleMarkerSymbol", "esri/symbols/SimpleLineSymbol",
        "esri/InfoTemplate", "esri/Color",
        "esri/arcgis/utils",
        "dojo/domReady!"
      ], function(
        Map, Locator, Graphic,
        webMercatorUtils,
        SimpleMarkerSymbol, SimpleLineSymbol,
        InfoTemplate, Color,
        arcgisUtils
      ) {

        var map;

        var symbol = new SimpleMarkerSymbol(
          SimpleMarkerSymbol.STYLE_CIRCLE, 
          15, 
          new SimpleLineSymbol(
            SimpleLineSymbol.STYLE_SOLID, 
            new Color([0, 0, 255, 0.5]), 
            8
          ), 
          new Color([0, 0, 255])
        );

        var infoTemplate = new InfoTemplate("Location", "Address: ${Address}");

        var locator = new Locator("http://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer");

        var locatorCallbackOk = function(evt) {
          if (! evt.address.address) {
            alert("Locator error");
            return;
          }

          var address = evt.address.address;
          var location = webMercatorUtils.geographicToWebMercator(evt.address.location);

          var graphic = new Graphic(location, symbol, address, infoTemplate);
          map.graphics.add(graphic);
          
          map.infoWindow.setTitle(graphic.getTitle());
          map.infoWindow.setContent(graphic.getContent());
          
          //display the info window with the address information
          var screenPnt = map.toScreen(location);
          map.infoWindow.resize(200,100);
          map.infoWindow.show(screenPnt, map.getInfoWindowAnchor(screenPnt));
          
        };

        locator.on("location-to-address-complete", locatorCallbackOk);

        arcgisUtils.createMap("21b507c1ba014f4eb6a6b14bf2a433d1", "map").then(function(response) {

          map = response.map;
            map.on("click", function(evt) {
            map.graphics.clear();
            locator.locationToAddress(webMercatorUtils.webMercatorToGeographic(evt.mapPoint), 100);
          });

          var mapTitle = response.itemInfo.item.title;
          console.log("Loaded " + mapTitle);

        });
        
      });
*/
    </script>

  -->
  </body>
</html>
