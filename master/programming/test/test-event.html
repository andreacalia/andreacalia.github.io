<html>
  <head>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    
  </head>
  <body>
    <div id="regions_div" style="width: 900px; height: 500px;"></div>
  </body>
  <script type="text/javascript">

    	var el1 = window;
		el1.addEventListener("userLogin", function(e) {
			console.info('1');
		});

		var el2 = document.getElementById('regions_div');
		el2.addEventListener("userLogin", function(e) {
			console.info('2');
		});

		var myEvent = new CustomEvent("userLogin", {
			detail: {
				username: "davidwalsh"
			},
			bubbles: true,
			cancelable: false
		}, true);

		// Trigger it!
		el1.dispatchEvent(myEvent);

		console.log("boh");	
    </script>
</html>

